window.addEventListener("load",()=>{const e=document.querySelector(".page-loader");e&&setTimeout(()=>{e.classList.add("hidden")},1500)}),document.addEventListener("DOMContentLoaded",()=>{const e=document.createElement("div");e.className="cursor";const t=document.createElement("div");t.className="cursor-follower",document.body.appendChild(e),document.body.appendChild(t);let s=0,r=0,o=0,n=0;document.addEventListener("mousemove",o=>{s=o.clientX,r=o.clientY,e.style.left=s+"px",e.style.top=r+"px",e.classList.add("visible"),t.classList.add("visible")}),function e(){o+=.15*(s-o),n+=.15*(r-n),t.style.left=o+"px",t.style.top=n+"px",requestAnimationFrame(e)}();document.querySelectorAll("a, button, .portfolio-card, .service-card, .why-card").forEach(t=>{t.addEventListener("mouseenter",()=>e.classList.add("hover")),t.addEventListener("mouseleave",()=>e.classList.remove("hover"))}),document.addEventListener("mouseleave",()=>{e.classList.remove("visible"),t.classList.remove("visible")});const a=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",a);const c=document.querySelector(".theme-toggle");c&&c.addEventListener("click",()=>{const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)});document.querySelectorAll(".portfolio-card, .service-card").forEach(e=>{e.addEventListener("mousemove",t=>{const s=e.getBoundingClientRect(),r=t.clientX-s.left,o=t.clientY-s.top,n=s.width/2,a=(o-s.height/2)/10,c=(n-r)/10;e.style.transform=`perspective(1000px) rotateX(${a}deg) rotateY(${c}deg) scale(1.02)`}),e.addEventListener("mouseleave",()=>{e.style.transform="perspective(1000px) rotateX(0) rotateY(0) scale(1)"})});document.querySelectorAll(".btn-whatsapp, .btn-whatsapp-nav").forEach(e=>{e.addEventListener("mousemove",t=>{const s=e.getBoundingClientRect(),r=t.clientX-s.left-s.width/2,o=t.clientY-s.top-s.height/2;e.style.transform=`translate(${.3*r}px, ${.3*o}px)`}),e.addEventListener("mouseleave",()=>{e.style.transform="translate(0, 0)"})}),document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("click",function(e){const t=document.createElement("span");t.className="ripple";const s=this.getBoundingClientRect();t.style.left=e.clientX-s.left+"px",t.style.top=e.clientY-s.top+"px",this.appendChild(t),setTimeout(()=>t.remove(),600)})});const l=document.querySelectorAll(".counter"),i=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!e.target.classList.contains("counted")&&(e.target.classList.add("counted"),(e=>{const t=parseInt(e.getAttribute("data-target")),s=performance.now(),r=o=>{const n=o-s,a=Math.min(n/2e3,1),c=1-Math.pow(1-a,3);e.textContent=Math.floor(0+(t-0)*c),a<1?requestAnimationFrame(r):e.textContent=t};requestAnimationFrame(r)})(e.target))})},{threshold:.5});l.forEach(e=>i.observe(e));const d=document.querySelector(".testimonials-grid");if(d&&window.innerWidth>768){}const m=document.getElementById("navbar");window.addEventListener("scroll",()=>{window.scrollY>50?m.classList.add("scrolled"):m.classList.remove("scrolled")},{passive:!0});const u=document.getElementById("hamburger"),p=document.getElementById("nav-links");u&&p&&(u.addEventListener("click",()=>{const e=u.classList.toggle("active");p.classList.toggle("active"),u.setAttribute("aria-expanded",e),u.setAttribute("aria-label",e?"Fermer le menu":"Ouvrir le menu")}),p.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{u.classList.remove("active"),p.classList.remove("active"),u.setAttribute("aria-expanded","false"),u.setAttribute("aria-label","Ouvrir le menu")})}),document.addEventListener("click",e=>{u.contains(e.target)||p.contains(e.target)||(u.classList.remove("active"),p.classList.remove("active"),u.setAttribute("aria-expanded","false"))})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;const s=document.querySelector(t);if(s){e.preventDefault();const t=s.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:t,behavior:"smooth"})}})});[".hero-badges",".hero-title",".hero-subtitle",".hero-cta"].forEach((e,t)=>{const s=document.querySelector(e);s&&(s.style.opacity="0",s.style.transform="translateY(40px)",s.style.transition="opacity 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)",setTimeout(()=>{s.style.opacity="1",s.style.transform="translateY(0)"},200+150*t))});const y=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=Array.from(e.target.parentElement.children).indexOf(e.target);setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateY(0) scale(1)"},100*t),y.unobserve(e.target)}})},{root:null,rootMargin:"0px 0px -80px 0px",threshold:.1});[".service-card",".process-step",".why-card",".portfolio-card",".testimonial-card",".faq-item",".pricing-card",".section-header"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.style.opacity="0",e.style.transform="translateY(50px)",e.style.transition="opacity 0.7s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.7s cubic-bezier(0.34, 1.56, 0.64, 1)",y.observe(e)})});const f=(e,t,s)=>{document.querySelectorAll(e).forEach(e=>{e.style.transition="transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease",e.addEventListener("mouseenter",()=>{e.style.transform=t,e.style.boxShadow=s}),e.addEventListener("mouseleave",()=>{e.style.transform="translateY(0) scale(1)",e.style.boxShadow=""})})};f(".service-card","translateY(-10px) scale(1.02)","0 20px 40px rgba(255, 107, 157, 0.15)"),f(".portfolio-card","translateY(-10px) scale(1.02)","0 20px 40px rgba(255, 107, 157, 0.15)"),f(".testimonial-card","translateY(-8px)","0 16px 32px rgba(255, 107, 157, 0.12)"),f(".why-card","translateY(-8px)","0 16px 32px rgba(255, 107, 157, 0.12)"),document.querySelectorAll(".service-card").forEach(e=>{const t=e.querySelector(".service-icon");t&&(t.style.transition="transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",e.addEventListener("mouseenter",()=>{t.style.transform="scale(1.15) rotate(5deg)"}),e.addEventListener("mouseleave",()=>{t.style.transform="scale(1) rotate(0deg)"}))}),document.querySelectorAll(".process-step").forEach(e=>{const t=e.querySelector(".step-number");t&&(t.style.transition="transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease",e.addEventListener("mouseenter",()=>{t.style.transform="scale(1.1)",t.style.boxShadow="0 8px 20px rgba(255, 107, 157, 0.4)"}),e.addEventListener("mouseleave",()=>{t.style.transform="scale(1)",t.style.boxShadow=""}))}),document.querySelectorAll(".why-card").forEach(e=>{const t=e.querySelector(".why-icon");t&&(t.style.transition="transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",e.addEventListener("mouseenter",()=>{t.style.transform="scale(1.2)"}),e.addEventListener("mouseleave",()=>{t.style.transform="scale(1)"}))});const v=document.querySelectorAll(".heart");v.length>0&&window.addEventListener("scroll",()=>{const e=window.pageYOffset;v.forEach((t,s)=>{const r=.03+.015*s;t.style.transform=`translateY(${e*r}px)`})},{passive:!0});const h=document.querySelector(".pricing-card");h&&(h.style.transition="transform 0.4s ease, box-shadow 0.4s ease",h.addEventListener("mouseenter",()=>{h.style.transform="scale(1.02)",h.style.boxShadow="0 24px 60px rgba(255, 107, 157, 0.25)"}),h.addEventListener("mouseleave",()=>{h.style.transform="scale(1)",h.style.boxShadow=""}));const g=document.getElementById("contact-form"),b=document.getElementById("form-message"),E=document.getElementById("submit-btn");if(g&&b&&E){const e=E.querySelector(".btn-text"),t=E.querySelector(".btn-loader");g.addEventListener("submit",async s=>{s.preventDefault(),e&&(e.style.display="none"),t&&(t.style.display="inline"),E.disabled=!0,b.className="form-message",b.textContent="";const r=new FormData(g),o=Object.fromEntries(r),n=JSON.stringify(o);try{const e=await fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:n}),t=await e.json();if(!t.success)throw new Error(t.message||"Erreur lors de l'envoi");b.className="form-message success",b.innerHTML="✅ Message envoyé avec succès ! Je vous répondrai dans les 24h.",g.reset()}catch(e){b.className="form-message error",b.innerHTML="❌ Erreur lors de l'envoi. Veuillez réessayer ou me contacter sur WhatsApp.",console.error("Form error:",e)}finally{e&&(e.style.display="inline"),t&&(t.style.display="none"),E.disabled=!1}})}const w=document.getElementById("reading-progress");if(w){const e=()=>{const e=document.querySelector(".article");if(!e)return;e.getBoundingClientRect();const t=e.offsetTop,s=e.offsetHeight,r=window.innerHeight,o=t-r;let n=(window.pageYOffset-o)/(t+s-r-o)*100;n=Math.max(0,Math.min(100,n)),w.style.width=n+"%"};window.addEventListener("scroll",e,{passive:!0}),e()}});